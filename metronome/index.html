<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Metronome</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
  <div class="app-container">
    <header>
      <h1>節拍器 Metronome</h1>
    </header>

    <main>
      <div class="controls-top">
        <div class="bpm-container">
          <label for="bpm-input">速度 BPM</label>
          <div class="bpm-input-wrapper">
            <button id="bpm-decrease" class="icon-btn">-</button>
            <input type="number" id="bpm-input" value="100" min="1" max="300" step="0.1">
            <button id="bpm-increase" class="icon-btn">+</button>
          </div>
          <input type="range" id="bpm-slider" min="1" max="300" value="100">

          <div class="sub-bpm-row">
            <label for="sub-bpm-input">細分拍速度 Subdivision BPM</label>
            <input type="number" id="sub-bpm-input" value="400">
          </div>
        </div>
      </div>

      <div class="subdivision-container">
        <div class="input-group">
          <label for="pattern-length-input">樣式長度 (步數) Pattern Length</label>
          <div class="sub-input-wrapper">
            <button id="pat-decrease" class="icon-btn">-</button>
            <input type="number" id="pattern-length-input" value="4" min="1" max="128">
            <button id="pat-increase" class="icon-btn">+</button>
          </div>
        </div>

        <div class="input-group" style="margin-top: 1rem;">
          <label for="steps-per-beat-input">每拍步數 Steps per Beat</label>
          <div class="sub-input-wrapper">
            <button id="spb-decrease" class="icon-btn">-</button>
            <input type="number" id="steps-per-beat-input" value="4" min="1" max="32">
            <button id="spb-increase" class="icon-btn">+</button>
          </div>
        </div>
      </div>

      <div class="pattern-editor">
        <p>點擊切換節拍 Toggle beats to play</p>
        <div id="pattern-grid" class="pattern-grid">
          <!-- Grid generated by JS -->
        </div>
        <div class="toggle-container">
          <label class="switch">
            <input type="checkbox" id="accent-toggle" checked>
            <span class="slider round"></span>
          </label>
          <span class="toggle-label">強調首拍 Accent First Beat</span>
        </div>
      </div>

      <div class="action-area">
        <button id="play-btn" class="play-btn">
          <span class="play-icon">▶</span>
          <span class="stop-icon" style="display:none;">■</span>
        </button>
      </div>

      <div class="presets-container">
        <h3>預設組 Presets</h3>
        <div class="preset-controls">
          <input type="text" id="preset-name-input" placeholder="名稱 Name (e.g. Rock 120)">
          <button id="save-preset-btn" class="btn-secondary">儲存 Save</button>
        </div>
        <ul id="preset-list" class="preset-list">
          <!-- List items generated by JS -->
        </ul>
      </div>
    </main>
  </div>
  <script src="script.js"></script>
</body>

</html>